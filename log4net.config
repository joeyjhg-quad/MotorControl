<?xml version="1.0" encoding="utf-8" ?>
<log4net>
    <root>
        <level value="ALL"/>
        <appender-ref ref="info_error_file"/>
        <appender-ref ref="debug_file"/>
        <appender-ref ref="fatal_file"/>
    </root>

    <!-- INFO와 ERROR 로그를 하나의 파일에 기록 -->
    <appender name="info_error_file" type="log4net.Appender.RollingFileAppender">
        <file value="logs/info_error\\" />
        <datepattern value="yyyy\\\\MM\\\\yyyy-MM-dd'.log'" />
        <appendToFile value="true" />
        <rollingStyle value="Date" />
        <staticLogFileName value="false" />
        <filter type="log4net.Filter.LevelRangeFilter">
            <param name="LevelMin" value="INFO" />
            <param name="LevelMax" value="ERROR" />
        </filter>
        <layout type="log4net.Layout.PatternLayout">
            <conversionPattern value="[%date][Thread : %thread][%level][%logger] %message%newline" />
        </layout>
    </appender>

    <!-- INFO, ERROR, DEBUG 로그를 모두 기록하는 debug_file -->
    <appender name="debug_file" type="log4net.Appender.RollingFileAppender">
        <file value="logs/debug\\" />
        <datepattern value="yyyy\\\\MM\\\\yyyy-MM-dd'.log'" />
        <appendToFile value="true" />
        <rollingStyle value="Date" />
        <staticLogFileName value="false" />
        <filter type="log4net.Filter.LevelRangeFilter">
            <param name="LevelMin" value="INFO" />
            <param name="LevelMax" value="DEBUG" />
        </filter>
        <layout type="log4net.Layout.PatternLayout">
            <conversionPattern value="[%date][Thread : %thread][%level][%logger] %message%newline" />
        </layout>
    </appender>

    <!-- FATAL 로그는 기존과 동일하게 기록 -->
    <appender name="fatal_file" type="log4net.Appender.RollingFileAppender">
        <file value="logs/fatal\\" />
        <appendToFile value="true" />
        <rollingStyle value="Size" />
        <maxSizeRollBackups value="500" />
        <maximumFileSize value="10MB" />
        <staticLogFileName value="true" />
        <filter type="log4net.Filter.LevelRangeFilter">
            <param name="LevelMin" value="FATAL" />
            <param name="LevelMax" value="FATAL" />
        </filter>
        <layout type="log4net.Layout.PatternLayout">
            <conversionPattern value="[%date][Thread : %thread][%level][%logger] %message%newline" />
        </layout>
    </appender>

</log4net>
